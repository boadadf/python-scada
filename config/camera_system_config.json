{
  "dp_types": {
    "BOOL": {
      "default": "FALSE",
      "type": "enum",
      "values": [
        "TRUE",
        "FALSE"
      ]
    },
    "CAMERA_POSITION": {
      "default": "RIGHT",
      "type": "enum",
      "values": [
        "LEFT",
        "RIGHT"
      ]
    }
  },
  "drivers": [
    {
      "command_datapoints": [
        {
          "name": "CAMERA_1_POSITION_CMD",
          "type": "CAMERA_POSITION"
        },
        {
          "name": "CAMERA_2_POSITION_CMD",
          "type": "CAMERA_POSITION"
        },
        {
          "name": "CAMERA_3_POSITION_CMD",
          "type": "CAMERA_POSITION"
        }
      ],
      "connection_info": {
        "server_name": "CameraDriver"
      },
      "datapoints": [
        {
          "name": "CAMERA_1_POSITION",
          "type": "CAMERA_POSITION"
        },
        {
          "name": "CAMERA_2_POSITION",
          "type": "CAMERA_POSITION"
        },
        {
          "name": "CAMERA_3_POSITION",
          "type": "CAMERA_POSITION"
        },
        {
          "name": "CAMERA_1_ALARM",
          "type": "BOOL"
        },
        {
          "name": "CAMERA_2_ALARM",
          "type": "BOOL"
        },
        {
          "name": "CAMERA_3_ALARM",
          "type": "BOOL"
        }
      ],
      "driver_class": "CameraDriver",
      "name": "CameraDriver"
    }
  ],
  "gis_icons": [
    {
      "alarm": {
        "ACTIVE": "/static/icons/camera_ko.png"
      },
      "rule_id": "camera_1_alarm",
      "datapoint": "CameraDriver@CAMERA_1_POSITION",
      "icon": "/static/icons/camera.png",
      "id": "camera1",
      "label": "Camera 1",
      "latitude": 11.7889,
      "longitude": 108.4086,
      "navigation": "stream/feed1",
      "states": {
        "LEFT": "/static/icons/camera_left.png",
        "RIGHT": "/static/icons/camera_right.png"
      }
    },
    {
      "alarm": {
        "ACTIVE": "/static/icons/camera_ko.png"
      },
      "rule_id": "camera_2_alarm",
      "datapoint": "CameraDriver@CAMERA_2_POSITION",
      "icon": "/static/icons/camera.png",
      "id": "camera2",
      "label": "Camera 2",
      "latitude": 11.8227,
      "longitude": 108.4364,
      "navigation": "stream/feed2",
      "navigation_type": "popup",
      "states": {
        "LEFT": "/static/icons/camera_left.png",
        "RIGHT": "/static/icons/camera_right.png"
      }
    },
    {
      "alarm": {
        "ACTIVE": "/static/icons/camera_ko.png"
      },
      "rule_id": "camera_3_alarm",
      "datapoint": "CameraDriver@CAMERA_3_POSITION",
      "icon": "/static/icons/camera.png",
      "id": "camera3",
      "label": "Camera 3",
      "latitude": 11.8363,
      "longitude": 108.4516,
      "navigation": "stream/feed3",
      "states": {
        "LEFT": "/static/icons/camera_left.png",
        "RIGHT": "/static/icons/camera_right.png"
      }
    }
  ],
  "modules": [
    {
      "name": "alarm"
    },
    {
      "name": "command"
    },
    {
      "name": "communication"
    },
    {
      "name": "datapoint"
    },
    {
      "name": "alert"
    },
    {
      "config": {
        "attribution": "&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors",
        "baseurl": "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        "center_x": "11.8227",
        "center_y": "108.4364",
        "zoom": 13
      },
      "name": "gis"
    },
    {
      "name": "rule"
    },
    {
      "name": "stream"
    }
  ],
  "rules": [
    {
      "on_actions": [
        "raise_alarm()"
      ],
      "on_condition": "CameraDriver@CAMERA_1_ALARM == TRUE",
      "rule_id": "camera_1_alarm"
    },
    {
      "on_actions": [
        "raise_alarm()"
      ],
      "on_condition": "CameraDriver@CAMERA_2_ALARM == TRUE",
      "rule_id": "camera_2_alarm"
    },
    {
      "on_actions": [
        "raise_alarm()"
      ],
      "on_condition": "CameraDriver@CAMERA_3_ALARM == TRUE",
      "rule_id": "camera_3_alarm"
    }
  ],
  "streams": [
    {
      "description": "Feed 1 - 1080p",
      "id": "feed1",
      "path": "feed1/feed1.m3u8",
      "port": "8444",
      "protocol": "https",
      "server": "www.openscadalite.com"
    },
    {
      "description": "Feed 2 - 4K",
      "id": "feed2",
      "path": "feed2/feed2.m3u8",
      "port": "8444",
      "protocol": "https",
      "server": "www.openscadalite.com"
    },
    {
      "description": "Feed 3 - 4K",
      "id": "feed3",
      "path": "feed3/feed3.m3u8",
      "port": "8444",
      "protocol": "https",
      "server": "www.openscadalite.com"
    }
  ]
}